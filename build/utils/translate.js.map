{"version":3,"file":"translate.js","names":["_api_calls","_interopRequireDefault","require","translate_clan_members","_ref","_asyncToGenerator2","_regenerator","mark","_callee","clan","roles","i","lastOnDateMS","LOD","wrap","_callee$","_context","prev","next","members","length","memType","Date","now","valueOf","Number","lastOnline","toLocaleString","abrupt","stop","_x","apply","arguments","translate_inventory_items","_ref2","_callee2","player","inventory","_char","char_number","player_info","t_items","item","call","_callee2$","_context2","t0","keys","characterEquipment","data","t1","done","char","value","api","character_info","profile","userInfo","membershipType","membershipId","sent","t2","items","t3","manifest_call","itemHash","push","light","_x2","module","exports"],"sources":["../../src/utils/translate.js"],"sourcesContent":["// Imports\r\n\r\nimport api from \"./api_calls.js\"\r\n\r\n/**\r\n * Translates the role type and lastOnline date of a clan to human readable formats\r\n * @param {object} clan - clan object to be translated \r\n * @returns {boolean} returns true when finished\r\n */\r\nconst translate_clan_members = async (clan) => {\r\n    let roles = {\r\n        \"5\":\"Founder\",\r\n        \"4\":\"Founder\",\r\n        \"3\":\"Admin\",\r\n        \"2\":\"Member\",\r\n        \"1\":\"Beginner\"\r\n    }\r\n    for(let i=0; i<clan.members.length; i++)\r\n    {\r\n        clan.members[i].memType = roles[clan.members[i].memType]\r\n        let lastOnDateMS = Date.now().valueOf() - Number(clan.members[i].lastOnline)\r\n        let LOD = new Date(lastOnDateMS)\r\n        clan.members[i].lastOnline = LOD.toLocaleString()\r\n    }\r\n    return true\r\n}\r\n\r\n\r\n/**\r\n * Translates teh inventory items and character items of a player object to human readable formats\r\n * @param {object} player - Player object to translate inventory of \r\n * @returns {object[]} Array of objects containing characters and their items, class and lights\r\n */\r\nconst translate_inventory_items = async player => {\r\n    let inventory = []\r\n    for(let char in player.characterEquipment.data){\r\n        let char_number = char\r\n        let player_info = await api.character_info(char_number,player.profile.data.userInfo.membershipType,player.profile.data.userInfo.membershipId)\r\n        let t_items = []\r\n        for(let i in player.characterEquipment.data[char].items){\r\n            let item = player.characterEquipment.data[char].items[i]\r\n            let call = await api.manifest_call(item.itemHash,\"equipment\")\r\n            t_items.push(call)\r\n            \r\n        }\r\n        inventory.push({\r\n                items:t_items,\r\n                class:player_info.class,\r\n                light:player_info.light\r\n            })\r\n    }\r\n    return inventory\r\n}\r\n\r\n\r\n\r\nmodule.exports = {translate_clan_members, translate_inventory_items} //Export Functions"],"mappings":"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"}