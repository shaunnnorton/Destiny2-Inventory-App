{"version":3,"sources":["../../../src/public/scripts/data.js"],"names":["axios","window","username_input","document","querySelector","username_button","script_holder","equipment_container","clan_container","hidden_tag","getElementById","profile","Object","member_id","member_type","display_name","clan","characters","console","log","addEventListener","populate_data","value","update_equipment","innerHTML","equipment_title","createElement","equipment_list_contain","id","classList","add","char","character_button","light","character_list","style","display","item","items","list_element","icon","name","appendChild","update_clan","clan_label","clan_div","member","members","member_label","online","memType","lastOnline","remove_script","remove","username","get_id","get_profile","get_clan","get_characters","manage_script","src","insertAdjacentElement","post","err","data","membershipId","membershipType","displayName","type","user","response","player"],"mappings":"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","sourcesContent":["const axios = window.axios\n\nlet username_input = document.querySelector(\".username\")\nlet username_button = document.querySelector(\".user_button\")\nlet script_holder = document.querySelector(\".script_holder\")\nlet equipment_container = document.querySelector(\"#Equipment\")\nlet clan_container = document.querySelector(\"#Clan\")\nlet hidden_tag = document.getElementById(\"hidden_tag\")\n\n\nlet profile = Object()\nlet member_id = ''\nlet member_type = ''\nlet display_name = ''\nlet clan = Object()\nlet characters = Object()\n\nconsole.log(script_holder)\n\nusername_button.addEventListener(\"click\",populate_data)\n\nif(hidden_tag.value != null) {\n    username_input.value =  hidden_tag.value\n    populate_data()\n}\n\nfunction update_equipment() {\n    equipment_container.innerHTML = \"\"\n    let equipment_title = document.createElement(\"h1\") //id_equipment_label\n    let equipment_list_contain= document.createElement(\"div\") //id_equipment_list\n    equipment_title.id = \"equipment_label\"\n    equipment_list_contain.id = \"equipment_list\"\n    equipment_title.classList.add(\"row\",\"text-center\",\"font-weight-bold\")\n    equipment_title.innerHTML = display_name\n    equipment_list_contain.classList.add(\"list-group\", \"container\")\n    for(let char in characters) {\n        let character_button = document.createElement('button')\n        character_button.classList.add(\"equipment_item\", \"list-group-item\", \"list-group-item-action\", \"row\", \"text-center\")\n        character_button.innerHTML = `${characters[char].class} ${characters[char].light}`\n        let character_list = document.createElement(\"ul\")\n        character_list.classList.add(\"row\", \"equipment_list_items\", \"list-group\")\n        character_list.style.display = \"none\"\n        for(let item in characters[char].items) {\n            //console.log(characters[char].items[item])\n            let list_element = document.createElement(\"li\")\n            list_element.classList.add(\"col\", \"list-group-item\")\n            list_element.innerHTML = `<img src=http://www.bungie.net${characters[char].items[item].icon}>` + `<strong>${characters[char].items[item].name}</strong>` \n            character_list.appendChild(list_element)\n        }\n        equipment_list_contain.appendChild(character_button)\n        equipment_list_contain.appendChild(character_list)\n       \n    }\n    equipment_container.appendChild(equipment_title)\n    equipment_container.appendChild(equipment_list_contain)\n}\n\nfunction update_clan() {\n    clan_container.innerHTML = \"\"\n    let clan_label= document.createElement(\"h1\")\n    clan_label.id = \"clan_name\"\n    clan_label.classList.add(\"row\")\n    clan_label.innerHTML = clan.name\n    let clan_div = document.createElement(\"div\")\n    clan_div.id = \"players\"\n    clan_div.classList.add(\"list-group\",\"row\")\n    for(let member in clan.members){\n        let member_label = document.createElement(\"p\")\n        member_label.classList.add(\"clan_member\",\"list-group-item-action\",\"list-group-item\")\n        if(clan.members[member].online == true) {\n            member_label.innerHTML = `<a href=\"/${clan.members[member].name}\"><i>[${clan.members[member].memType}]</i> <strong>${clan.members[member].name}</strong> is online</a>`\n        }else{\n            member_label.innerHTML = `<a href=\"/${clan.members[member].name}\"><i>[${clan.members[member].memType}]</i> <strong>${clan.members[member].name}</strong> is Offline (${clan.members[member].lastOnline})</a>`\n        }\n        clan_div.appendChild(member_label)\n        \n    } \n    clan_container.appendChild(clan_label)\n    clan_container.appendChild(clan_div)\n}\n\n\nasync function populate_data() {\n    let remove_script = document.getElementById(\"MAINSCRIPT\")\n    if(remove_script) {\n        remove_script.remove()\n    }\n    let username = username_input.value\n    await get_id(username)\n    await get_profile(username)\n    await get_clan(username)\n    await get_characters(username)\n    //console.log([member_id,member_type,display_name,characters,clan])\n    update_equipment()\n    update_clan()\n    let manage_script = document.createElement(\"script\")\n    manage_script.src = \"scripts/main.js\"\n    manage_script.id = \"MAINSCRIPT\"\n    script_holder.insertAdjacentElement(\"afterend\",manage_script)\n    return true\n}\n\nasync function get_id(username) {\n    let id = await axios.post(`/${username}/id`).catch(err => console.log(err))\n    member_id = id.data.membershipId\n    member_type = id.data.membershipType\n    display_name = id.data.displayName\n    //console.log([member_id,member_type,display_name])\n}\n\nasync function get_profile(username) {\n    let user = await axios.post(`/${username}/profile`,{type:member_type, id:member_id})\n    profile = user.data\n    //console.log(user.data)\n}\n\nasync function get_clan(username) {\n    let response = await axios.post(`/${username}/clan`,{member_id:member_id}).catch(err => console.log(err))\n    //console.log(response)\n    clan = response.data\n\n}\n\nasync function get_characters(username) {\n    //await get_profile(\"Docthunder58\")\n    let response = await axios.post(`/${username}/characters`,{player:profile}).catch(err => console.log(err))\n    characters = response.data\n}\n\n"],"file":"data.js"}