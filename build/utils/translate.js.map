{"version":3,"sources":["../../src/utils/translate.js"],"names":["translate_clan_members","clan","roles","i","members","length","memType","lastOnDateMS","Date","now","valueOf","Number","lastOnline","LOD","toLocaleString","translate_inventory_items","player","inventory","characterEquipment","data","char","char_number","api","character_info","profile","userInfo","membershipType","membershipId","player_info","t_items","items","item","manifest_call","itemHash","call","push","light","module","exports"],"mappings":";;;;;;;;AAAA;;AAEA,IAAMA,sBAAsB;AAAA,2FAAG,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACvBC,YAAAA,KADuB,GACf;AACR,mBAAI,SADI;AAER,mBAAI,SAFI;AAGR,mBAAI,OAHI;AAIR,mBAAI,QAJI;AAKR,mBAAI;AALI,aADe;;AAS3B,iBAAQC,CAAR,GAAU,CAAV,EAAaA,CAAC,GAACF,IAAI,CAACG,OAAL,CAAaC,MAA5B,EAAoCF,CAAC,EAArC,EACA;AACIF,cAAAA,IAAI,CAACG,OAAL,CAAaD,CAAb,EAAgBG,OAAhB,GAA0BJ,KAAK,CAACD,IAAI,CAACG,OAAL,CAAaD,CAAb,EAAgBG,OAAjB,CAA/B;AACIC,cAAAA,YAFR,GAEuBC,IAAI,CAACC,GAAL,GAAWC,OAAX,KAAuBC,MAAM,CAACV,IAAI,CAACG,OAAL,CAAaD,CAAb,EAAgBS,UAAjB,CAFpD,EAGI;;AACIC,cAAAA,GAJR,GAIc,IAAIL,IAAJ,CAASD,YAAT,CAJd;AAKIN,cAAAA,IAAI,CAACG,OAAL,CAAaD,CAAb,EAAgBS,UAAhB,GAA6BC,GAAG,CAACC,cAAJ,EAA7B;AACH;;AAhB0B,6CAkBpB,IAlBoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAtBd,sBAAsB;AAAA;AAAA;AAAA,GAA5B;;AAqBA,IAAMe,yBAAyB;AAAA,4FAAG,kBAAMC,MAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC9B;AACIC,YAAAA,SAF0B,GAEd,EAFc;AAAA,wDAGdD,MAAM,CAACE,kBAAP,CAA0BC,IAHZ;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGtBC,YAAAA,KAHsB;AAItBC,YAAAA,WAJsB,GAIRD,KAJQ,EAK1B;;AAL0B;AAAA,mBAMFE,sBAAIC,cAAJ,CAAmBF,WAAnB,EAA+BL,MAAM,CAACQ,OAAP,CAAeL,IAAf,CAAoBM,QAApB,CAA6BC,cAA5D,EAA2EV,MAAM,CAACQ,OAAP,CAAeL,IAAf,CAAoBM,QAApB,CAA6BE,YAAxG,CANE;;AAAA;AAMtBC,YAAAA,WANsB;AAO1B;AACIC,YAAAA,OARsB,GAQZ,EARY;AAAA,wDASbb,MAAM,CAACE,kBAAP,CAA0BC,IAA1B,CAA+BC,KAA/B,EAAqCU,KATxB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AASlB3B,YAAAA,CATkB;AAUlB4B,YAAAA,IAVkB,GAUXf,MAAM,CAACE,kBAAP,CAA0BC,IAA1B,CAA+BC,KAA/B,EAAqCU,KAArC,CAA2C3B,CAA3C,CAVW,EAWtB;;AAXsB;AAAA,mBAYLmB,sBAAIU,aAAJ,CAAkBD,IAAI,CAACE,QAAvB,EAAgC,WAAhC,CAZK;;AAAA;AAYlBC,YAAAA,IAZkB;AAatBL,YAAAA,OAAO,CAACM,IAAR,CAAaD,IAAb;AAbsB;AAAA;;AAAA;AAgB1BjB,YAAAA,SAAS,CAACkB,IAAV,CAAe;AACPL,cAAAA,KAAK,EAACD,OADC;AAEP,uBAAMD,WAAW,SAFV;AAGPQ,cAAAA,KAAK,EAACR,WAAW,CAACQ;AAHX,aAAf;AAhB0B;AAAA;;AAAA;AAAA,8CAsBvBnB,SAtBuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAzBF,yBAAyB;AAAA;AAAA;AAAA,GAA/B;;AA2BAsB,MAAM,CAACC,OAAP,GAAiB;AAACtC,EAAAA,sBAAsB,EAAtBA,sBAAD;AAAyBe,EAAAA,yBAAyB,EAAzBA;AAAzB,CAAjB","sourcesContent":["import api from \"./api_calls.js\"\n\nconst translate_clan_members = async (clan) => {\n    let roles = {\n        \"5\":\"Founder\",\n        \"4\":\"Founder\",\n        \"3\":\"Admin\",\n        \"2\":\"Member\",\n        \"1\":\"Beginner\"\n    }\n    \n    for(let i=0; i<clan.members.length; i++)\n    {\n        clan.members[i].memType = roles[clan.members[i].memType]\n        let lastOnDateMS = Date.now().valueOf() - Number(clan.members[i].lastOnline)\n        //console.log(lastOnDateMS)\n        let LOD = new Date(lastOnDateMS)\n        clan.members[i].lastOnline = LOD.toLocaleString()\n    }\n\n    return true\n}\n\nconst translate_inventory_items = async player => {\n    //console.log(player)\n    let inventory = []\n    for(let char in player.characterEquipment.data){\n        let char_number = char\n        //console.log(player.profile.data.userInfo.membershipType)\n        let player_info = await api.character_info(char_number,player.profile.data.userInfo.membershipType,player.profile.data.userInfo.membershipId)\n        //console.log(player_info)\n        let t_items = []\n        for(let i in player.characterEquipment.data[char].items){\n            let item = player.characterEquipment.data[char].items[i]\n            //console.log(item.itemHash)\n            let call = await api.manifest_call(item.itemHash,\"equipment\")\n            t_items.push(call)\n            \n        }\n        inventory.push({\n                items:t_items,\n                class:player_info.class,\n                light:player_info.light\n            })\n    }\n    return inventory\n}\n\n\n\nmodule.exports = {translate_clan_members, translate_inventory_items}"],"file":"translate.js"}