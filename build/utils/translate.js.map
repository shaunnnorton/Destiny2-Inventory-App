{"version":3,"sources":["../../src/utils/translate.js"],"names":["translate_clan_members","clan","roles","i","members","length","memType","lastOnDateMS","Date","now","valueOf","Number","lastOnline","LOD","toLocaleString","translate_inventory_items","player","inventory","characterEquipment","data","char","char_number","api","character_info","profile","userInfo","membershipType","membershipId","player_info","t_items","items","item","manifest_call","itemHash","call","push","light","module","exports"],"mappings":";;;;;;;;AAEA;;AAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,IAAMA,sBAAsB;AAAA,2FAAG,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACvBC,YAAAA,KADuB,GACf;AACR,mBAAI,SADI;AAER,mBAAI,SAFI;AAGR,mBAAI,OAHI;AAIR,mBAAI,QAJI;AAKR,mBAAI;AALI,aADe;;AAQ3B,iBAAQC,CAAR,GAAU,CAAV,EAAaA,CAAC,GAACF,IAAI,CAACG,OAAL,CAAaC,MAA5B,EAAoCF,CAAC,EAArC,EACA;AACIF,cAAAA,IAAI,CAACG,OAAL,CAAaD,CAAb,EAAgBG,OAAhB,GAA0BJ,KAAK,CAACD,IAAI,CAACG,OAAL,CAAaD,CAAb,EAAgBG,OAAjB,CAA/B;AACIC,cAAAA,YAFR,GAEuBC,IAAI,CAACC,GAAL,GAAWC,OAAX,KAAuBC,MAAM,CAACV,IAAI,CAACG,OAAL,CAAaD,CAAb,EAAgBS,UAAjB,CAFpD;AAGQC,cAAAA,GAHR,GAGc,IAAIL,IAAJ,CAASD,YAAT,CAHd;AAIIN,cAAAA,IAAI,CAACG,OAAL,CAAaD,CAAb,EAAgBS,UAAhB,GAA6BC,GAAG,CAACC,cAAJ,EAA7B;AACH;;AAd0B,6CAepB,IAfoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAtBd,sBAAsB;AAAA;AAAA;AAAA,GAA5B;AAmBA;AACA;AACA;AACA;AACA;;;AACA,IAAMe,yBAAyB;AAAA,4FAAG,kBAAMC,MAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC1BC,YAAAA,SAD0B,GACd,EADc;AAAA,wDAEdD,MAAM,CAACE,kBAAP,CAA0BC,IAFZ;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEtBC,YAAAA,KAFsB;AAGtBC,YAAAA,WAHsB,GAGRD,KAHQ;AAAA;AAAA,mBAIFE,sBAAIC,cAAJ,CAAmBF,WAAnB,EAA+BL,MAAM,CAACQ,OAAP,CAAeL,IAAf,CAAoBM,QAApB,CAA6BC,cAA5D,EAA2EV,MAAM,CAACQ,OAAP,CAAeL,IAAf,CAAoBM,QAApB,CAA6BE,YAAxG,CAJE;;AAAA;AAItBC,YAAAA,WAJsB;AAKtBC,YAAAA,OALsB,GAKZ,EALY;AAAA,wDAMbb,MAAM,CAACE,kBAAP,CAA0BC,IAA1B,CAA+BC,KAA/B,EAAqCU,KANxB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMlB3B,YAAAA,CANkB;AAOlB4B,YAAAA,IAPkB,GAOXf,MAAM,CAACE,kBAAP,CAA0BC,IAA1B,CAA+BC,KAA/B,EAAqCU,KAArC,CAA2C3B,CAA3C,CAPW;AAAA;AAAA,mBAQLmB,sBAAIU,aAAJ,CAAkBD,IAAI,CAACE,QAAvB,EAAgC,WAAhC,CARK;;AAAA;AAQlBC,YAAAA,IARkB;AAStBL,YAAAA,OAAO,CAACM,IAAR,CAAaD,IAAb;AATsB;AAAA;;AAAA;AAY1BjB,YAAAA,SAAS,CAACkB,IAAV,CAAe;AACPL,cAAAA,KAAK,EAACD,OADC;AAEP,uBAAMD,WAAW,SAFV;AAGPQ,cAAAA,KAAK,EAACR,WAAW,CAACQ;AAHX,aAAf;AAZ0B;AAAA;;AAAA;AAAA,8CAkBvBnB,SAlBuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAzBF,yBAAyB;AAAA;AAAA;AAAA,GAA/B;;AAuBAsB,MAAM,CAACC,OAAP,GAAiB;AAACtC,EAAAA,sBAAsB,EAAtBA,sBAAD;AAAyBe,EAAAA,yBAAyB,EAAzBA;AAAzB,CAAjB,C,CAAqE","sourcesContent":["// Imports\n\nimport api from \"./api_calls.js\"\n\n/**\n * Translates the role type and lastOnline date of a clan to human readable formats\n * @param {object} clan - clan object to be translated \n * @returns {boolean} returns true when finished\n */\nconst translate_clan_members = async (clan) => {\n    let roles = {\n        \"5\":\"Founder\",\n        \"4\":\"Founder\",\n        \"3\":\"Admin\",\n        \"2\":\"Member\",\n        \"1\":\"Beginner\"\n    }\n    for(let i=0; i<clan.members.length; i++)\n    {\n        clan.members[i].memType = roles[clan.members[i].memType]\n        let lastOnDateMS = Date.now().valueOf() - Number(clan.members[i].lastOnline)\n        let LOD = new Date(lastOnDateMS)\n        clan.members[i].lastOnline = LOD.toLocaleString()\n    }\n    return true\n}\n\n\n/**\n * Translates teh inventory items and character items of a player object to human readable formats\n * @param {object} player - Player object to translate inventory of \n * @returns {object[]} Array of objects containing characters and their items, class and lights\n */\nconst translate_inventory_items = async player => {\n    let inventory = []\n    for(let char in player.characterEquipment.data){\n        let char_number = char\n        let player_info = await api.character_info(char_number,player.profile.data.userInfo.membershipType,player.profile.data.userInfo.membershipId)\n        let t_items = []\n        for(let i in player.characterEquipment.data[char].items){\n            let item = player.characterEquipment.data[char].items[i]\n            let call = await api.manifest_call(item.itemHash,\"equipment\")\n            t_items.push(call)\n            \n        }\n        inventory.push({\n                items:t_items,\n                class:player_info.class,\n                light:player_info.light\n            })\n    }\n    return inventory\n}\n\n\n\nmodule.exports = {translate_clan_members, translate_inventory_items} //Export Functions"],"file":"translate.js"}